################################
# é¢„è®¾ï¼Œä¾¿äºå¼•ç”¨
behavior: &behavior {type: http, interval: 86400, health-check: {enable: true, url: "http://www.gstatic.com/generate_204", interval: 900}, exclude-filter: "å‰©ä½™|æµé‡|åˆ°æœŸ|æ—¶é—´|å®˜ç½‘|åŸŸå|å·¥å•|å®¢æœ"}
proxylist: &proxylist {type: select, proxies: [âš™ï¸ é»˜è®¤, ğŸ¯ ç›´è¿, ğŸš€ ä»£ç†, ğŸ‡ºğŸ‡¸ ç¾å›½, ğŸ‡¸ğŸ‡¬ æ–°åŠ å¡, ğŸ‡¯ğŸ‡µ æ—¥æœ¬, ğŸ‡­ğŸ‡° é¦™æ¸¯, ğŸ‡¹ğŸ‡¼ å°æ¹¾], include-all-providers: true}

################################
# èŠ‚ç‚¹è®¢é˜…ï¼Œå¯å¡«å†™å¤šä¸ªæœºåœº
proxy-providers:
  "æœºåœº1":
    <<: *behavior
    url: "è¯·åœ¨æ­¤å¤„å¡«å…¥è®¢é˜…é“¾æ¥"
    path: "./providers/æœºåœº1"

  "æœºåœº2":
    <<: *behavior
    url: "è¯·åœ¨æ­¤å¤„å¡«å…¥è®¢é˜…é“¾æ¥"
    path: "./providers/æœºåœº2"

  "æœºåœº3":
    <<: *behavior
    url: "è¯·åœ¨æ­¤å¤„å¡«å…¥è®¢é˜…é“¾æ¥"
    path: "./providers/æœºåœº3"

  # ä½ å¯ä»¥æ·»åŠ æ›´å¤š

################################
# ä»¥ä¸‹ä¸ºå†…æ ¸å‚æ•°ï¼Œä¸å»ºè®®ä¿®æ”¹
mixed-port: 7890
mode: rule
log-level: silent
allow-lan: true
unified-delay: true
global-client-fingerprint: chrome
external-controller: 127.0.0.1:9090
external-ui: "./ui"
external-ui-url: "https://github.com/MetaCubeX/metacubexd/archive/refs/heads/gh-pages.zip"
geodata-mode: true
geo-auto-update: true
geo-update-interval: 24
geox-url:
  geoip: "https://cdn.jsdelivr.net/gh/Cornfy/geoip@release/geoip-asn.dat"
  geosite: "https://cdn.jsdelivr.net/gh/Loyalsoldier/v2ray-rules-dat@release/geosite.dat"
sniffer: {enable: true, sniff: {HTTP: {ports: [80, 8080-8880]}, TLS: {ports: [443, 8443]}, QUIC: {ports: [443, 8443]}}}
tun: {enable: true, stack: gVisor, device: utun0, dns-hijack: [udp://0.0.0.0:53, tcp://0.0.0.0:53], auto-route: true, auto-detect-interface: true, auto-redirect: true, strict-route: true}
dns: {enable: true, listen: 0.0.0.0:1053, enhanced-mode: fake-ip, fake-ip-range: 28.0.0.1/8, respect-rules: true, proxy-server-nameserver: [1.0.0.1, 8.8.8.8, tls://1.0.0.1:853, tls://8.8.8.8:853], nameserver-policy: {geosite:category-ads-all: [rcode://success], geosite:cn: [tls://223.5.5.5:853, tls://119.29.29.29:853], geoip:cn: [tls://223.5.5.5:853, tls://119.29.29.29:853]}}
proxies:
  - {name: ğŸ¯ ç›´è¿, type: direct, udp: true}
  - {name: ğŸš« æ‹¦æˆª, type: reject, udp: true}
proxy-groups:
  - {name: âš™ï¸ é»˜è®¤, type: select, proxies: [ğŸš€ ä»£ç†, ğŸ¯ ç›´è¿, ğŸ‡ºğŸ‡¸ ç¾å›½, ğŸ‡¸ğŸ‡¬ æ–°åŠ å¡, ğŸ‡¯ğŸ‡µ æ—¥æœ¬, ğŸ‡­ğŸ‡° é¦™æ¸¯, ğŸ‡¹ğŸ‡¼ å°æ¹¾], include-all-providers: true}
  - {name: ğŸš© å›½å†…, type: select, proxies: [ğŸ¯ ç›´è¿, ğŸš€ ä»£ç†]}
  - {name: ğŸ•¹ï¸ æ¸¸æˆ, <<: *proxylist}
  - {name: ğŸ“º å½±éŸ³, <<: *proxylist}
  - {name: ğŸ¤– AIèŠå¤©, <<: *proxylist}
  - {name: ğŸ” è°·æ­Œ, <<: *proxylist}
  - {name: ğŸ è‹¹æœ, <<: *proxylist}
  - {name: â“‚ï¸ å¾®è½¯, <<: *proxylist}
  - {name: âœˆï¸ ç”µæŠ¥, <<: *proxylist}
  - {name: ğŸ•Šï¸ æ¨ç‰¹, <<: *proxylist}
  - {name: ğŸš€ ä»£ç†, type: url-test, hidden: true, include-all-providers: true}
  - {name: ğŸ‡ºğŸ‡¸ ç¾å›½, type: url-test, hidden: true, include-all-providers: true, filter: "(?i)ç¾|ç¾å›½|US|UnitedStates"}
  - {name: ğŸ‡¸ğŸ‡¬ æ–°åŠ å¡, type: url-test, hidden: true, include-all-providers: true, filter: "(?i)æ–°|æ–°åŠ å¡|SG|Singapore"}
  - {name: ğŸ‡¯ğŸ‡µ æ—¥æœ¬, type: url-test, hidden: true, include-all-providers: true, filter: "(?i)æ—¥|æ—¥æœ¬|JP|Japan"}
  - {name: ğŸ‡­ğŸ‡° é¦™æ¸¯, type: url-test, hidden: true, include-all-providers: true, filter: "(?i)æ¸¯|é¦™æ¸¯|HK|HongKong"}
  - {name: ğŸ‡¹ğŸ‡¼ å°æ¹¾, type: url-test, hidden: true, include-all-providers: true, filter: "(?i)å°|å°æ¹¾|TW|TaiWan"}
rules:
  # - PROCESS-NAME,qbittorrent,ğŸ¯ ç›´è¿
  - GEOSITE,category-ads-all,ğŸš« æ‹¦æˆª
  - GEOSITE,private,ğŸ¯ ç›´è¿
  - GEOSITE,category-games@cn,ğŸš© å›½å†…
  - GEOSITE,microsoft@cn,ğŸš© å›½å†…
  - GEOSITE,apple@cn,ğŸš© å›½å†…
  - GEOSITE,category-games,ğŸ•¹ï¸ æ¸¸æˆ
  - AND,((GEOSITE,category-entertainment),(NOT,((GEOSITE,category-games)))),ğŸ“º å½±éŸ³
  - GEOSITE,category-ai-chat-!cn,ğŸ¤– AIèŠå¤©
  - GEOSITE,google,ğŸ” è°·æ­Œ
  - GEOSITE,apple,ğŸ è‹¹æœ
  - AND,((GEOSITE,microsoft),(NOT,((GEOSITE,github)))),â“‚ï¸ å¾®è½¯
  - GEOSITE,telegram,âœˆï¸ ç”µæŠ¥
  - GEOSITE,twitter,ğŸ•Šï¸ æ¨ç‰¹
  - GEOSITE,geolocation-!cn,ğŸš€ ä»£ç†
  - GEOSITE,cn,ğŸš© å›½å†…
  - GEOIP,private,ğŸ¯ ç›´è¿,no-resolve
  - GEOIP,telegram,âœˆï¸ ç”µæŠ¥,no-resolve
  - GEOIP,cn,ğŸš© å›½å†…,no-resolve
  - MATCH,âš™ï¸ é»˜è®¤
